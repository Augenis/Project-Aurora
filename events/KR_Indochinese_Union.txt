###########################
# Indochinese Union - By PPsyrius
###########################

add_namespace = viet

country_event = { # 52000 - Unrest and Sedition in Indochina
	id = viet.0
	title = viet.0.t
	desc = viet.0.d
	picture = vietmin
	
	is_triggered_only = yes
	
	option = {
		name = viet.0.a # This colony has been nothing but trouble!
		GER = { add_opinion_modifier = { target = BHC modifier = BHC_Indochina } } # -100
		add_political_power = -100 # 5 dissent
		set_global_flag = Indochinese_unrest
		set_global_flag = Indochina_revolt_1
		857 = { damage_building = { type = infrastructure damage = 0.6 } } # Dong Bac
		671 = { damage_building = { type = infrastructure damage = 0.6 } } # Hanoi
		670 = { damage_building = { type = infrastructure damage = 0.6 } } # Vientiane
		827 = { damage_building = { type = infrastructure damage = 0.6 } } # Hue
		826 = { damage_building = { type = infrastructure damage = 0.6 } } # Stung Treng
		286 = { damage_building = { type = infrastructure damage = 0.6 } } # Saigon
		856 = { damage_building = { type = infrastructure damage = 0.6 } } # Can Tho
	}
}
country_event = { # 52001 - Ho Chi Minh Proclaims Indochina Independent!
	id = viet.1
	title = viet.1.t
	desc = viet.1.d
	picture = vietmin
	
	is_triggered_only = yes
	
	option = {
		name = viet.1.a # He shall be caught!
		GER = { add_opinion_modifier = { target = BHC modifier = BHC_Indochina } } # -100
		add_political_power = -100 # 5 dissent
		set_global_flag = Indochinese_unrest
		set_global_flag = Indochina_revolt_2
		857 = { damage_building = { type = infrastructure damage = 0.6 } } # Dong Bac
		671 = { damage_building = { type = infrastructure damage = 0.6 } } # Hanoi
		670 = { damage_building = { type = infrastructure damage = 0.6 } } # Vientiane
		827 = { damage_building = { type = infrastructure damage = 0.6 } } # Hue
		826 = { damage_building = { type = infrastructure damage = 0.6 } } # Stung Treng
		286 = { damage_building = { type = infrastructure damage = 0.6 } } # Saigon
		856 = { damage_building = { type = infrastructure damage = 0.6 } } # Can Tho
	}
}
country_event = { # 52002 - Revolt in Indochina!
	id = viet.2
	title = viet.2.t
	desc = viet.2.d
	picture = vietmin2

	fire_only_once = yes

	trigger = {
		tag = GER
		286 = { is_owned_by = GER } # Saigon
		856 = { is_owned_by = GER } # Can Tho
		671 = { is_owned_by = GER } # Hanoi
		857 = { is_owned_by = GER } # Dong Bac
		has_global_flag = Indochinese_unrest
		NOT = { has_global_flag = Indochina_revolt_1 }
		NOT = { country_exists = INC }
	}

	mean_time_to_happen = { days = 50 }
	
	option = {
		name = viet.2.a # Mein Gott!
		INC = {
			transfer_state = 857 # Dong Bac
			transfer_state = 826 # Stung Treng
			transfer_state = 856 # Can Tho
			load_oob = "INC_VIETMINH"
			clr_global_flag = Indochina_revolt_1
			hidden_effect = { INC = { country_event = { id = viet.4 } } }
			set_politics = {
				parties = {
					totalist = { popularity = 0 }
					radical_socialist = { popularity = 19 }
					syndicalist = { popularity = 41 }
					social_democrat = { popularity = 4 }
					social_liberal = { popularity = 6 }
					market_liberal = { popularity = 8 }
					social_conservative = { popularity = 12 }
					authoritarian_democrat = { popularity = 2 }
					paternal_autocrat = { popularity = 0 }
					national_populist = { popularity = 8 }
				}
				ruling_party = syndicalist
				last_election = "1885.6.9" #Treaty of Tietsin - Full French occupation of Vietnam
				election_frequency = 48
				elections_allowed = no
			}
			create_country_leader = {
				name = "Ho Chi Minh"
				desc = "POLITICS_HO_CHI_MINH_DESC"
				picture = "Ho_chi_minh.tga"
				expire = "1969.9.2"
				ideology = syndicalist_subtype
				traits = {	}
			}
		}
	}
}
country_event = { # 52003 - Revolt in Indochina!
	id = viet.3
	title = viet.3.t
	desc = viet.3.d
	picture = vietmin3

	fire_only_once = yes

	trigger = {
		tag = GER
		286 = { is_owned_by = GER } # Saigon
		856 = { is_owned_by = GER } # Can Tho
		671 = { is_owned_by = GER } # Hanoi
		857 = { is_owned_by = GER } # Dong Bac
		has_global_flag = Indochinese_unrest
		NOT = { has_global_flag = Indochina_revolt_2 }
		NOT = { country_exists = INC }
	}

	mean_time_to_happen = { days = 50 }
	
	option = {
		name = viet.3.a # Mein Gott!
		INC = {
			transfer_state = 857 # Dong Bac
			transfer_state = 826 # Stung Treng
			transfer_state = 856 # Can Tho
			load_oob = "INC_VIETMINH"
			clr_global_flag = Indochina_revolt_2
			hidden_effect = { INC = { country_event = { id = viet.4 } } }
			set_politics = {
				parties = {
					totalist = { popularity = 0 }
					radical_socialist = { popularity = 19 }
					syndicalist = { popularity = 41 }
					social_democrat = { popularity = 4 }
					social_liberal = { popularity = 6 }
					market_liberal = { popularity = 8 }
					social_conservative = { popularity = 12 }
					authoritarian_democrat = { popularity = 2 }
					paternal_autocrat = { popularity = 0 }
					national_populist = { popularity = 8 }
				}
				ruling_party = syndicalist
				last_election = "1885.6.9" #Treaty of Tietsin - Full French occupation of Vietnam
				election_frequency = 48
				elections_allowed = no
			}
			create_country_leader = {
				name = "Ho Chi Minh"
				desc = "POLITICS_HO_CHI_MINH_DESC"
				picture = "Ho_chi_minh.tga"
				expire = "1969.9.2"
				ideology = syndicalist_subtype
				traits = {	}
			}
		}
	}
}
country_event = { # 52004 - Revolution in Indochina!
	id = viet.4
	title = viet.4.t
	desc = viet.4.d
	picture = vietmin3
	
	is_triggered_only = yes
	
	option = {
		name = viet.4.a # Onwards, to liberty!
		add_political_power = 100 # -5 dissent
		BHC = { add_opinion_modifier = { target = INC modifier = INC_Liberation } } # 200
		INC = { add_opinion_modifier = { target = BHC modifier = INC_Liberation } } # 200
		hidden_effect = { BHC = { country_event = { id = viet.5 days = 4 } } }
		INC = {
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
		#command = { type = headofgovernment which = 567002 }
		#command = { type = foreignminister which = 567003 }
		#command = { type = armamentminister which = 567004 }
		#command = { type = ministerofsecurity which = 567005 }
		#command = { type = ministerofintelligence which = 567006 }
	}
}
country_event = { # 52005 - Revolution in Indochina!
	id = viet.5
	title = viet.5.t
	desc = viet.5.d
	picture = vietmin3
	
	is_triggered_only = yes
	
	option = {
		name = viet.5.a # We must intervene directly!
		ai_chance = { factor = 70 }
		BHC = { add_opinion_modifier = { target = INC modifier = INC_BHC_Support } } # 200
		add_political_power = -40 # -2 dissent
		set_global_flag = BHC_INC_Alliance
		if = { 
			limit = { BHC = { is_in_faction = no } }
			BHC = {
				create_faction = "syndicalist_asia"
				add_to_faction = INC
			}
		}
		if = { 
			limit = { BHC = { is_in_faction = yes } }
			BHC = { add_to_faction = INC }
		}
	}
	option = {
		name = viet.5.b # Dispatch volunteers and material to our proletarian friends!
		ai_chance = { factor = 30 }
		BHC = { add_opinion_modifier = { target = INC modifier = INC_BHC_Support } } # 200
		BHC = { add_opinion_modifier = { target = GER modifier = INC_BHC_Support_50 } } # -50
		add_manpower = -10000 #-10
		add_political_power = -40 # -2 dissent
		hidden_effect = { INC = { country_event = { id = viet.6 } } }
		add_timed_idea = { idea = INC_aid_given days = 30 }
	}
	option = {
		name = viet.5.c # Dispatch instructors and take control of their military!
		ai_chance = { factor = 0 }
		BHC = { add_opinion_modifier = { target = GER modifier = INC_BHC_Support_75 } } # 200
		add_manpower = -10000 #-10
		add_political_power = -40 # -2 dissent
		add_timed_idea = { idea = INC_aid_given days = 30 }
		#command = { trigger = { ai = no } type = military_control which = PRK where = BRU value = 1 }
		#command = { type = local_setflag which = military_control }
		hidden_effect = { INC = { country_event = { id = viet.6 } } }
	}
	option = {
		name = viet.5.e # Indochina is a silly place.
		ai_chance = { factor = 0 }
		BHC = { add_opinion_modifier = { target = INC modifier = INC_BHC_NoSupport } } # -200
		add_political_power = 100 # 5 dissent
	}
}
country_event = { # 52006 - Indian Volunteers Arrive
	id = viet.6
	title = viet.6.t
	desc = viet.6.d
	picture = vietmin3
	
	is_triggered_only = yes
	
	option = {
		name = viet.6.a # Workers of the World, Unite!
		INC = { add_opinion_modifier = { target = BHC modifier = INC_BHC_Support } } # 200
		add_manpower = 10000 #10
		add_ideas = INC_aid_recieved
		load_oob = "INC_BHC_volunteers"
		BHC = { INC = { transfer_technology = yes } }
	}
}